<html>
	<head>
		<link rel="stylesheet" href="index.css">
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	</head>
	<body>

		<div id="watch-example">
			<p>
				yes/no ì§ˆë¬¸ì„ ë¬¼ì–´ë³´ì„¸ìš”:
				<input v-model="question">
			</p>
			<p>{{ answer }}</p>
			<!-- <div class="static"
				v-bind:class="{ active: isActive, 'text-danger': hasError }"  style="border: 1px black solid; width: 50px; height: 50px;"
				></div> -->
				<div v-bind:class="classObject" style="border: 1px black solid; width: 50px; height: 50px;"></div>
		</div>
<!-- ì´ë¯¸ Ajax ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ í’ë¶€í•œ ìƒíƒœê³„ì™€ ë²”ìš© ìœ í‹¸ë¦¬í‹° ë©”ì†Œë“œ ì»¬ë ‰ì…˜ì´ ìˆê¸° ë•Œë¬¸ì—, -->
<!-- Vue ì½”ì–´ëŠ” ë‹¤ì‹œ ë§Œë“¤ì§€ ì•Šì•„ ì‘ê²Œ ìœ ì§€ë©ë‹ˆë‹¤. -->
<!-- ì´ê²ƒì€ ì´ë¯¸ ìµìˆ™í•œ ê²ƒì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ììœ ë¥¼ ì¤ë‹ˆë‹¤. -->
<script src="https://unpkg.com/axios@0.12.0/dist/axios.min.js"></script>
<script src="https://unpkg.com/lodash@4.13.1/lodash.min.js"></script>
		<script>
			var watchExampleVM = new Vue({
				el: "#watch-example",
				data:{
					question: ''
					, answer: 'ì§ˆë¬¸ì„ í•˜ê¸° ì „ê¹Œì§€ëŠ” ëŒ€ë‹µí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'
					// , isActive: true
					// , hasError: true
					, classObject :{
						active: true
						, 'text-danger': false
					}
				},
				watch: {
					// ì§ˆë¬¸ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì´ ê¸°ëŠ¥ ì‹¤í–‰
					question: function(newQuestion){
						this.answer = 'ì…ë ¥ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘..';
						this.debouncedGetAnswer();
					}
				},
				created: function(){
					// _.debounceëŠ” lodashê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥
					// íŠ¹íˆ ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ëŠ” ì‘ì—…ì„ ì‹¤í•­í•  ìˆ˜ ìˆëŠ” ë¹ˆë„ë¥¼ ì œí•œí•¨
					// ì´ ê²½ìš°, ìš°ë¦¬ëŠ” yeasno.wtf/api ì— ì•¡ì„¸ìŠ¤ í•˜ëŠ” ë¹ˆë„ë¥¼ ì œí•œ,
					// ì‚¬ìš©ìê°€ ajax ìš”ì²­ì„ í•˜ê¸° ì „ì— íƒ€ì´í•‘ì„ ì™„ì „íˆ ë§ˆì¹  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê¸° ë°”ëŒ
					// _.debounce í•¨ìˆ˜(ë˜ëŠ” ì´ì™€ ìœ ì‚¬í•œ _.throttle)ì— ëŒ€í•œ
					// ìì„¸í•œ ë‚´ìš©ì„ ë³´ë ¤ë©´ https://lodash.com/docs#debounce
					this.debouncedGetAnswer = _.debounce(this.getAnswer, 500);
				},
				methods:{
					getAnswer: function(){
						if(this.question.indexOf('?') === -1){
							this.answer = 'ì§ˆë¬¸ì—ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë¬¼ìŒí‘œê°€ í¬í•¨ë©ë‹ˆë‹¤. ;-)';
							return;
						}
						this.answer = 'ìƒê°ì¤‘...';
						var vm = this;
						axios.get('https://yesno.wtf/api')
							.then(function (response){
								vm.answer = _.capitalize(response.data.answer); // ëŒ€ë¬¸ìë¡œ.. ì–´ë””ì„œ ì œê³µí•˜ëŠ”ê±°ì§€
							})
							.catch(function (error){
								vm.answer = 'ì—ëŸ¬! API ìš”ì²­ì— ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.' + error;
							});
							
					}
				}
			});
		</script>


		<div id="test1">
			<div class="static boxTest"
				v-bind:class="{ active: isActive, 'text-danger': hasError }"  
				></div>
			<div v-bind:class="classObject"></div>	
			<div v-bind:class="[activeClass, errorClass]" class="boxTest"></div>
			<div v-bind:class="[isActive ? activeClass : '', errorClass]" class="boxTest"></div>
			<div v-bind:class="[{ active: isActive }, errorClass]" class="boxTest"></div>
			<my-component></my-component>
			<my-component class="bax boo"></my-component>
			<my-component v-bind:class="{active:isActive}"></my-component>
			<div v-bind:style="{ color: activeColor, fontSize: fontSize + 'px'}"></div>
			<div v-bind:style="styleObject"></div>
			<div v-bind:style="[baseStyle, overridingStyles]"></div>
			<div v-bind:style="{ display: ['-webkit-box', '-ms-flexbox', 'flex'] }"></div>
			
			<p>ì¡°ê±´ë¶€ ë Œë”ë§</p>
			<h1 v-if="awesome">Vue is awesome!</h1>
			<h1 v-else>Oh noğŸ˜¢</h1>
			<button v-on:click="changeAwesome">changeAwesome</button>
			
			<p></p>

			<div v-if="loginType === 'username'">
				<label>ì‚¬ìš©ì ì´ë¦„</label>
				<input placeholder="ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" key="username-input">
			</div>
			<div v-else>
				<label>ì´ë©”ì¼</label>
				<input placeholder="ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" key="email-input">
			</div>
			<button v-on:click="changeLoginType">changeLoginType</button>

			<p></p>

			<!-- v-showëŠ” ë‹¨ìˆœíˆ ì—˜ë¦¬ë¨¼íŠ¸ì— display CSS ì†ì„±ì„ í† ê¸€ -->
			<h1 v-show="ok">hi</h1>

		</div>
		<script>
			Vue.component('my-component', {
				template: '<div class="foo bar">Hi</div>'
			});

			var test1 = new Vue({
				el: "#test1"
				, data:{
					isActive : true
					, boxTest: true
					, error: null
					, hasError: true
					, activeClass: 'active'
					, errorClass: 'text-danger'
					, activeColor: 'red'
					, fontSize: 30
					, styleObject:{
						color: 'red'
						, fontSize: '13px'
						, border: '1px solid black'
						, width: '50px'
						, height: '50px'
					}
					, baseStyle : {border: '1px solid black'}
					, overridingStyles : {width: '50px', height: '50px'}
					, awesome : true
					, loginType: 'username'
					, ok: false
				}
				, computed: {
					classObject: function(){
						return {
							active: this.isActive && !this.error,
							boxTest: this.boxTest && !this.error,
      						'text-danger': this.error && this.error.type === 'fatal'
						}
					}
				}
				, methods:{
					changeAwesome: function(){
						this.awesome = this.awesome ? false : true;
					}
					,changeLoginType: function(){
						this.loginType = this.loginType === 'username' ? 'email' : 'username';
					}
				}
			});
		</script>


	</body>
</html>